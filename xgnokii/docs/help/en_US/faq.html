<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <title>gnokii FAQ</title>
   <link REL=stylesheet HREF="styl.css" TYPE="text/css">
</head>


<body>
<h1>gnokii FAQ</h1>

<ol>
<li><a href="#name">What is gnokii?</a></li>
<li><a href="#pronounce">How do you pronounce gnokii?</a></li>
<li><a href="#models">What models are supported?</a></li>
<li><a href="#nolink">I get "Hmmm... GSM_LinkOK never went true. Quitting." message when running gnokii. What's wrong?</a></li>
<li><a href="#mgnokiidev">Does mgnokiidev need to be suid root?</a></li>
<li><a href="#suidroot">Should any other gnokii binary be installed suid root?</a></li>
<li><a href="#6210">Can I use IrDA with 6210/7110 and gnokii?</a></li>
<li><a href="#protocol">Can I get a copy of the protocol for the (insert phone model here)?</a></li>
<li><a href="#solaris">Does gnokii work under Sun's Solaris?</a></li>
<li><a href="#keysequence">Could you tell me the key for on, off and select menu in <code>gnokii --keysequence function</code>?</a></li>
<li><a href="#relocation">I get <i>undefined symbol: GSM_ELogHandler</i> when runnig gnokii. What's wrong?</a></li>
<li><a href="#vcal">I had problems during compilation with vcal.lx/vcal.c. What should I do?</a></li>
<li><a href="#cables">Which cable for the Nokia phones should I use?</a></li>
<li><a href="#structure">I get "Sorry, phone has not yet been converted to new style. Phone.Functions == NULL!" message. What's wrong?</a></li>
<li><a href="#dcd">I get 'ERROR: Modem DCD is down and global/require_dcd parameter is set!' What should I do?</a></li>
<li><a href="#po">I can't compile gnokii. It fails when building the po directory.</a></li>
<li><a href="#irda">When connecting by IrDA I got "Couldn't open PHONET device: No route to host" message. What can be wrong?</a></li>
<li><a href="#newphone">My phone is not mentioned as supported by gnokii, but it seems that it is similar to the one of the mentioned in the supported phones list? What should I do to check this out?</a></li>
</ol>

<!--          -->

<a name="name"></a>
<h3 class="dzial">What is gnokii?</h3>

<p>It is the name of a project that aims to develop tools and drivers for
   Nokia mobile phones. These tools include modem drivers, console tools,
   GUI applications etc. All software that forms part of the project is
   released under the GNU General Public License.  Please see the COPYING
   file for more details on license/copying issues, the lack of warranty
   and where to send a postcard if you like gnokii :-)  Gnokii is designed
   to work on a variety of operating systems (Linux, FreeBSD, etc.) and
   hardware platforms (PPC, Intel, etc.)</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="pronounce"></a>
<h3 class="dzial"> How do you pronounce gnokii?</h3>

<p>You can pronounce gnokii as "gnooki" or "gnocky" at your option :) Note,
that there's already a gnocky project, a gtk2 frontend to gnokii, so keep it
in mind to be able to distinct them.</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="models"></a>
<h3 class="dzial">What models are supported?</h3>

<p>These models are supported</p>
<ul>
<li>Nokia 6110|6130|6150|6190|5110|5130|5190|3210|3310|3330|3360|3390|3410|8210|8250|8290|RPM-1</li>
<li>Nokia 7110|6210|6250|7190</li>
<li>Nokia 6510|6310|8310|6310i|6360|6610|6100|5100|3510|3510i</li>
<li>Nokia 3110|3810|8110|8110i</li>
<li>Nokia 5160|6160|6185</li>
<li>AT mode compatible phones (namely Nokia 62X0, Nokia 7110, Nokia 8210,
Nokia 6310, Nokia 6510 (you should expect all newer Nokia phones to work),
Ericsson T39, Sony-Ericsson T68i, Siemens S25/SL45i/C55/M55/S55, Motorola
Timeport P7389i (L series), C350, Bosch 908/909 are known to work)</li>
</ul>
<p>The following models are no longer being actively supported by the
 core team and the underlying code may have undergone some bit rot:
</p>
<ul>
<li>Nokia 2110|2140|6080</li>
<li>Nokia 640</li>
<li>Dancall 2711 and 2713</li>
</ul>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="nolink"></a>
<h3 class="dzial">I get "Hmmm... GSM_LinkOK never went true. Quitting." message when running gnokii. What's wrong?</h3>

<P>Gnokii cannot connect to the phone.  Possible reasons are:</P>
<UL>
<li>wrong serial port is defined in gnokii config file</li>
<li>you are using the wrong cable</li>
<li>you are using not supported phone model</li>
<li>you don't have permission to write to /dev/ttySX device</li>
</UL>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="mgnokiidev"></a>
<h3 class="dzial">Does mgnokiidev need to be suid root??</h3>

<p>Yes. gnokiid needs to create a symbolic link in the /dev directory.
mgnokiidev is the program which does this and hence it must be suid
root so it can write to the directory.  mgnokiidev is executable only
for gnokii group members (and root) so it presents minimal security
risk.</P>
<p>Be sure that you don't use a version of gnokii older than 0.3.5
 if you want to install mkgnokiidev suid root and give the access for
 execution for untrusted users. Earlier versions had security
 problems and allowed people to write to an arbitrary file.
</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="suidroot"></a>
<h3 class="dzial">Should any other gnokii binary be installed suid root?</h3>

<p> No. There is no need. gnokii isn't intended for setuid/setgid operation.
 If you set the setuid/setgid bit, you're taking a huge security
 risk. All you need is read/write permission for the device you are using
 for connection (port option in the config file). You can safely do it
 using groups management.
</p>


<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="6210"></a>
<h3 class="dzial">Can I use IrDA with 6210/7110 and gnokii?</h3>

<p>Yes. Just put:
<pre>
connection = irda
</pre>
line into your config file.</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="protocol"></a>
<h3 class="dzial"> Can I get a copy of the protocol for the (insert phone model here)?</h3>

<p>We don't have any formal documentation of the protocols in use.</P>

<p> The best source we can offer is the knowledge assembled by Nagy Balazs
 and Marcin Wiacek. You can find result of their work in Docs/protocol/
 subdirectory in gnokii sources. Note that not all known protocol functions
 are implemented in gnokii.</p>

<p> Alternatively there are some web sites that have collated some
 information:<p>
<ul>
<li><a href="http://www.gadgets.demon.co.uk/nokia61xx/protocol.html">Nokia 5110/6110</a></li>
<li><a href="http://www.mwiacek.com/">Marcin Wiacek's pages are also useful</a></li>
</ul>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="solaris"></a>
<h3 class="dzial">Does gnokii work under Sun's Solaris?</h3>

<p> In general yes, but it depends on hardware -- your serial port
 must support at least 115200 baud rate. Sun Enterprise 250 machine is known
 to work with gnokii.  Earlier Sparc machines (IPC, IPX, Classic) probably
 won't work due to hardware limitations.
</p>
<p> If your hardware doesn't support 115200 baud rate you can try the M2BUS
 mode (don't forget it needs an M2BUS capable cable). It is much slower
 but it should work.
</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="keysequence"></a>
<h3 class="dzial">Could you tell me the key for on, off and select menu in <code>gnokii --keysequence function</code>?</h3>

<p>M: menu, N: names, P: power, G: green phone, R: red phone, U: up, D: down
 +: increase volume, -: decrease volume, 0123456789#* as is.
</p>


<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="relocation"></a>
<h3 class="dzial">I get <i>undefined symbol: GSM_ELogHandler</i> when runnig gnokii. What's wrong?</h3>

<p>gnokii didn't install correctly. You probably had gnokii installed already and you either forget to
run <code>make install</code> or the installation didn't overwrite the old library.
Remove the old libgnokii.so and then rerun <code>make install</code>.</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>
<a name="vcal"></a>
<h3 class="dzial">I had problems during compilation with vcal.lx/vcal.c. What should I do?</h3>

<p>Install flex. It should be available in every Linux distribution as well
 as in CygWin.</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="cables"></a>
<h3 class="dzial">Which cable for the Nokia phones should I use?</h3>

<p>For Nokia 61X0/51X0 models you should use DAU9P cable. Nokia 61X0
models are also capable to make an infrared connection.<br>
For Nokia 7110/62X0/6310 models you need either DAU9P or DLR3P cable. With
DLR3P cable you can use AT commands to talk to the phone. These phones are
able to make an irda connection.<br>
Most Nokia phones that have no visible connector have one under the battery.
See <a href="cables.shtml">our cables page</a> to find the sites with more detailes, also the places where
to buy the cable.<br>
Most of the modern phones have the irda connector (3XXX series models don't
have them).
</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="structure"></a>
<h3 class="dzial">I get "Sorry, phone has not yet been converted to new style. Phone.Functions == NULL!" message. What's wrong?</h3>

<p>You use ancient version of gnokii! Upgrade! See <a href="downloads.shtml">our downloads page</a> for the detailes.</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="dcd"></a>
<h3 class="dzial">I get 'ERROR: Modem DCD is down and global/require_dcd parameter is set!'
 What should I do?</h3>

<p>Either comment out require_dcd variable in the config file or set it to 0.</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="po"></a>
<h3 class="dzial">I can't compile gnokii. It fails when building the po directory.</h3>

<p>You need to run gettextize. See autogen.sh and INSTALL files. If you don't
   have it on your system, grab the -current tarball which should have all
   needed files already generated.</p>


<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>
<a name="irda"></a>
<h3 class="dzial">When connecting by IrDA I got "Couldn't open PHONET device: No route to host" message. What can be wrong?</h3>

<p>Something's wrong with the irda device setup. Try to run:</p>
<pre>
echo 115200 &gt; /proc/sys/net/irda/max_baud_rate
</pre>
<p>and see whether it helps.</p>

<!--          --><hr align="LEFT" size="3" width="300" color="#60c0a0" noshade>

<a name="newphone"></a>
<h3 class="dzial">My phone is not mentioned as supported by gnokii, but it seems that it is
 similar to the one of the mentioned in the supported phones list? What
 should I do to check this out?</h3>

<p>It is quite simple. If you use AT compatible phone you can just use
   'model = AT' in the config file. If you have Nokia and you would like to
   enable FBUS mode (it has more facilities then AT mode), there are few
   things you should do.</p>

<p>For example, let's say you want to check the support for Nokia
   6211, which should be compatible with Nokia 6210. First, find the
   correct driver. The drivers are located in the common/phones/ directory
   within the gnokii sources:</p>

<pre>
pkot@bzzzt:~/gnokii/common/phones$ grep -n 6210 *
nk7110.c:148:      "7110|6210|6250|7190",      /* Supported models */
nk7110.c:958:   /* This is ugly hack. But the picture message format in 6210
nk7110.c:1197:  /* Nokia 6210 and family does not show not "fixed" messages from the
nk7110.c:1610:  /* 6210/7110 needs to seek the first free pos to inhabit with next note */
</pre>

<p>Line 148 in this case is the one you want as it is where we define
   the GSM_Phone structure. Just add new model, so the line will contain:</p>

<pre>
7110|6210|6250|7190|6211
</pre>

<p>Once this is done, look in the file common/misc.c.  It contains a large
   phone capabilities table. Find the one for the phone that is similar to
   yours. In our case this is 6210:</p>

<pre>
{"6210",  "NPE-3", PM_CALLERGROUP | PM_CALENDAR | PM_SPEEDDIAL | PM_NETMONITOR | PM_EXTPBK | PM_SMS | PM_FOLDERS }
</pre>

<p>We will replace two first fields as for our phone. The second field is
   the phone model identifier. In most of the phones to get this type on
   your phone keyboard the following sequence: *#0000#. If it doesn't work
   search the Internet for the information. Let's say in our example that
   the string is NPL-3. Our line will contain:
</p>

<pre>
{"6211",  "NPL-3", PM_CALLERGROUP | PM_CALENDAR | PM_SPEEDDIAL | PM_NETMONITOR | PM_EXTPBK | PM_SMS | PM_FOLDERS }
</pre>

<p>This is almost everything. If you have Linux and need to enable the IrDA
   connection, edit the common/devices/unixirda.c file. Find there the
   phone[] table. It contains the numerous Nokia models mentioned. Add your
   phone name there. In our case: "Nokia 6211". Recompile the sources and
   add "model = 6211" (according to your Nokia model) to the config and try
   if it works. In any case let us know (to the gnokii mailing list) about
   the result.</p>

