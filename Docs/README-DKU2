*** README-DKU2                                               ***
*** Notes, Install, bugs etc for the DKU2 Linux kernel module ***


* Notes *

The DKU2 cable, supplied for example with the nokia 7600/6230, is a
straight-through lead which connects the phone to a USB port.  By default,
the usb device exposes two endpoints which provide AT-like modem emulation. 
This kernel module sets an alternative configuration to enable two further
endpoints which enable Fbus communication.

Patches are in gnokii/patches.  There is one for 2.4.22 - I expect it'll
work with most 2.4 kernels, and one for 2.6.9.

The driver connects two ttys - after connecting the phone dmesg gives:
  Nokia AT Port:
  usbserial.c: Nokia 7600/6230 DKU2 driver converter now attached to ttyUSB0 (or usb/tts/0 for devfs)
  Nokia FBUS Port:
  usbserial.c: Nokia 7600/6230 DKU2 driver converter now attached to ttyUSB1 (or usb/tts/1 for devfs)
gnokii must be configured to use the second of these - in this case /dev/ttyUSB1


* Install *

| Get / configure / build a set of kernel sources.
$ cd $gnokii_sources/patches/kernel_2.{4,6}
| If you have the gnokii CVS version
$ autoconf
| See ./configure --help for the available options
| Defaults are:
|  kernsrcdir: /lib/modules/`uname -r`/build -- directory where the sources are
|  kernmoddir: /lib/modules/`uname -r` -- base module installation directory
$ ./configure --with-kernsrcdir=dir1 --with-kernmoddir=dir2 
$ make
| Become root
# make install
# modprobe nokia_dku2
# dmesg
| Look for the lines as shown above!
| Edit .gnokiirc to include port=/dev/ttyUSB.. and connection=dku2 


* Known Bugs *

None...let me know!


* Disclaimer *

No warranty, you are on your own. If you have questions or remarks,
please let me know on my email address mentioned below.

Author: Chris Kemp (ck231@cam.ac.uk)
